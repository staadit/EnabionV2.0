# Log 2025-12-19

## Progress - 2025-12-19 08:52:00 CET
#59 doprecyzowanie (przeniesione z 2025-12-18, korekta czasu): dev stack pozostaje na dev.enabion.com/api.dev.enabion.com, pilot stack na enabion.com/api.enabion.com - oba dzialaja rownolegle (oddzielne project name i volumes). Dodane healthchecki + depends_on(service_healthy) do infra/docker-compose.prod.yml (db/backend/frontend) zaciagniete z pilota; traefik rules w prod compose nadal na dev.* zgodnie z wymaganiem dual-stack. Body issue #59 na GH uaktualnione: status DONE dla healthcheckow i izolacji pilot, TODO weryfikacja rownoleglego dzialania na edge i runbook update.

## Progress - 2025-12-19 08:56:00 CET
Nie uruchomiono dev/pilot stack lokalnie (brak docker w srodowisku CLI). Runbook uzupelniony o sekcje "Dual-stack quick verification" (komendy start/stop/status + curl dla dev.* i enabion.*). Do uruchomienia/health checkow potrzebny host z docker + dostepem do edge.

## Progress - 2025-12-19 10:06:51 CET
#59: rozdzielone env dla dev i pilota. Dev compose wskazuje /srv/enabion/dev/env/*.env, pilot pozostaje na /srv/enabion/prod/env/*.env. Runbook uzupelniony o sciezki env; na VPS trzeba przygotowac /srv/enabion/dev/env (skopiowac i dostosowac envy).

## Progress - 2025-12-19 10:14:50 CET
Przygotowano /srv/enabion/dev/env na VPS (skopiowane z /srv/enabion/prod/env). Dev stack uruchomiony i zdrowy; pilot build z --build nie przeszedl (blad TS w s3-blobstore: brak Sha256 w @smithy/hash-node i mismatch HttpRequest), ale istniejace kontenery pilota pozostaly zdrowe. Weryfikacja curl: 200 dla https://dev.enabion.com, https://api.dev.enabion.com/health, https://enabion.com/api/health, https://api.enabion.com/health.

## Progress - 2025-12-19 10:28:30 CET
Pilot rebuild naprawiony: s3-blobstore presign z Hash (sha256) + luźniejszy typ query. Na VPS przebudowano pilota (COMPOSE_PROJECT_NAME=enabion_pilot up -d --build) bez błędów; kontenery dev i pilot zdrowe. Curl 200 dla dev.* i enabion.*.

## Progress - 2025-12-19 10:30:38 CET
#59 zamkniete: dev/pilot dual-stack zweryfikowany, env rozdzielone, pilot rebuild OK.

## Progress - 2025-12-19 10:44:36 CET
#60: usuniete workflowy deploy-prod.yml i deploy-prod-pilot.yml oraz skrypt scripts/enabion-deploy-prod.sh (przejscie na manualne start/stop). Runbooki zaktualizowane na manualne operacje. Na VPS nie udalo sie usunac /usr/local/bin/enabion-deploy-prod.sh (wymaga sudo hasla) - do wykonania recznie przez admina.


## Progress - 2025-12-19 11:00:01 CET
Manual VPS run as deploy: dev updated to origin/dev and rebuilt (containers healthy). Pilot tag r1.0-rc.3 missing, so pilot built from current dev and then stopped; prod endpoints return 404 when pilot is down. Frontend dev panel updated to remove GH Actions buttons and show manual pilot commands + runbook link.

